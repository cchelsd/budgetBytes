<!DOCTYPE html>

<head>
    <title>Budget-Bytes</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!--Google Maps API-->
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&callback=locationMap" async
        defer></script>
</head>



<header>
    <div id="webAppName">
        <a href="landingPage.html">
            <img src="images/logo.png" alt="Budget Bytes Logo" id="logo" />
            <img src="images/name.png" alt="Budget Bytes" id="name" />
        </a>
    </div>

    <nav class="navbar navbar-expand-lg navbar-light bg-white">
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav">
                <a class="nav-item nav-link" href="landingPage.html">Home</a> <!-- landing page -->
                <a class="nav-item nav-link" href="chatPage.html">Chat with Budget Bytes</a>
                <!-- <span class="sr-only">(current)</span>-->
                <a class="nav-item nav-link" href="locateStores.html">Locate Stores</a>
                <a class="nav-item nav-link" href="mealPlan.html">Meal Plan</a>
                <a class="nav-item nav-link" href="wordCount.html">Word Search</a>
                <a class="nav-item nav-link active" href="cookingAssessment.html">Cooking Assessment</a>
                <a class="nav-item nav-link" href="aboutPage.html">About</a>
            </div>
        </div>
    </nav>

</header>

<body>
    <div id="quiz-container">
        <h1>Cooking Assessment</h1>
        <form id="quiz-form">
            <!-- Question 1 -->
            <div class="question" id="q1">
                <p>How comfortable are you with using different herbs and spices?</p>
                <label><input type="radio" name="q1" value="1">Not at all</label>
                <label><input type="radio" name="q1" value="2">Somewhat</label>
                <label><input type="radio" name="q1" value="3">Very comfortable</label>
            </div>

            <!-- Question 2 -->
            <div class="question" id="q2">
                <p>Do you enjoy experimenting with new recipes?</p>
                <label><input type="radio" name="q2" value="1">Not really</label>
                <label><input type="radio" name="q2" value="2">Occasionally</label>
                <label><input type="radio" name="q2" value="3">Yes, all the time</label>
            </div>

            <!-- Question 3 -->
            <div class="question" id="q3">
                <p>How confident are you in preparing a multi-course meal (appetizer, main course, dessert)?</p>
                <label><input type="radio" name="q3" value="1">Not confident at all</label>
                <label><input type="radio" name="q3" value="2">Moderately confident</label>
                <label><input type="radio" name="q3" value="3">Very confident</label>
            </div>

            <!-- Question 4 -->
            <div class="question" id="q4">
                <p>How skilled are you in knife techniques, such as chopping, mincing, and dicing?</p>
                <label><input type="radio" name="q4" value="1">Novice</label>
                <label><input type="radio" name="q4" value="2">Intermediate</label>
                <label><input type="radio" name="q4" value="3">Advanced</label>
            </div>

            <!-- Question 5 -->
            <div class="question" id="q5">
                <p>How often do you incorporate fresh, seasonal ingredients into your meals?</p>
                <label><input type="radio" name="q5" value="1">Rarely</label>
                <label><input type="radio" name="q5" value="2">Occasionally</label>
                <label><input type="radio" name="q5" value="3">Frequently</label>
            </div>

            <!-- Question 6 -->
            <div class="question" id="q6">
                <p>Are you comfortable with grilling or using a barbecue for cooking?</p>
                <label><input type="radio" name="q6" value="1">Not at all</label>
                <label><input type="radio" name="q6" value="2">Somewhat</label>
                <label><input type="radio" name="q6" value="3">Very comfortable</label>
            </div>

            <!-- Question 7 -->
            <div class="question" id="q7">
                <p>How knowledgeable are you about various cooking techniques (e.g., sautéing, braising, roasting)?</p>
                <label><input type="radio" name="q7" value="1">Limited knowledge</label>
                <label><input type="radio" name="q7" value="2">Moderate knowledge</label>
                <label><input type="radio" name="q7" value="3">Extensive knowledge</label>
            </div>

            <!-- Question 8 -->
            <div class="question" id="q8">
                <p>Do you enjoy baking and trying out dessert recipes?</p>
                <label><input type="radio" name="q8" value="1">Not really</label>
                <label><input type="radio" name="q8" value="2">Occasionally</label>
                <label><input type="radio" name="q8" value="3">Absolutely love it</label>
            </div>

            <!-- Question 9 -->
            <div class="question" id="q9">
                <p>How often do you follow a recipe versus creating your own dishes?</p>
                <label><input type="radio" name="q9" value="1">Always follow recipes</label>
                <label><input type="radio" name="q9" value="2">Mix of both</label>
                <label><input type="radio" name="q9" value="3">Prefer creating my own dishes</label>
            </div>

            <!-- Question 10 -->
            <div class="question" id="q10">
                <p>How adventurous are you in trying cuisines from different cultures?</p>
                <label><input type="radio" name="q10" value="1">Not adventurous</label>
                <label><input type="radio" name="q10" value="2">Somewhat adventurous</label>
                <label><input type="radio" name="q10" value="3">Very adventurous</label>
            </div>

            <button class="btn btn-primary" type="button" id="submit-btn" onclick="submitQuiz()">Submit</button>
        </form>

        <div id="result-container" style="display: none;">
            <h2>Your Cooking Skill Level is:</h2>
            <h2 id="result-text"></h2>
            <button class="btn btn-primary" type="button" onclick="resetQuiz()">Retake Quiz</button>
        </div>
    </div>
    <footer class="py-3 my-2">
        <ul class="nav justify-content-center border-bottom pb-3 mb-3">
            <li class="nav-item"><a href="landingPage.html" class="nav-link px-2 text-muted">Home</a></li>
            <li class="nav-item"><a href="chatPage.html" class="nav-link px-2 text-muted">Chat with Budget
                    Bytes</a></li>
            <li class="nav-item"><a href="locateStores.html" class="nav-link px-2 text-muted">Locate Stores</a></li>
            <li class="nav-item"><a href="mealPlan.html" class="nav-link px-2 text-muted">Meal Plan</a></li>
            <li class="nav-item"><a href="wordCount.html" class="nav-link px-2 text-muted">Word Search</a>
            </li>
            <li class="nav-item active"><a href="cookingAssessment.html" class="nav-link px-2 text-muted">Cooking
                    Assessment</a></li>
            <li class="nav-item"><a href="aboutPage.html" class="nav-link px-2 text-muted">About</a></li>
        </ul>
        <p class="text-center text-muted">© 2023 Budget Bytes</p>
    </footer>

    <script>
        let userAnswers = [];

        function submitQuiz() {
            // Collect user answers
            for (let i = 1; i <= 10; i++) {
                const answer = document.querySelector(`input[name="q${i}"]:checked`);
                if (answer) {
                    userAnswers.push(parseInt(answer.value));
                } else {
                    alert(`Please answer question ${i} before submitting.`);
                    return;
                }
            }

            // Send the quiz results to the server using the correct endpoint
            fetch('http://localhost:3001/quiz', {  // Update the URL to use /quiz instead of /quiz-results
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ userAnswers }),
            })
                .then(response => response.json())
                .then(data => {
                    console.log(data);

                    // Display result and interesting messages
                    const resultContainer = document.getElementById("result-text");
                    resultContainer.innerHTML = `${data.skillLevel}<br><br>`;

                    // Add interesting messages based on skill level
                    switch (data.skillLevel) {
                        case "Beginner":
                            resultContainer.innerHTML += "Welcome to the world of cooking!<br> Keep exploring and experimenting with different recipes.";
                            break;
                        case "Intermediate":
                            resultContainer.innerHTML += "Fantastic job!<br> You're already an intermediate chef.<br> Continue refining your skills and trying new cuisines.";
                            break;
                        case "Advanced":
                            resultContainer.innerHTML += "Wow! You're an advanced chef.<br>Your culinary skills are truly impressive.<br> Consider sharing your expertise with others!";
                            break;
                        default:
                            break;
                    }

                    // Display the result container
                    document.getElementById("result-container").style.display = "block";
                    // Hide the quiz form
                    document.getElementById("quiz-form").style.display = "none";
                })
                .catch(error => {
                    console.error('Error:', error);
                });
        }

        function resetQuiz() {
            // Clear user answers and reset UI
            userAnswers = [];
            document.getElementById("quiz-form").reset();
            document.getElementById("quiz-form").style.display = "block";
            document.getElementById("result-container").style.display = "none";
        }
    </script>

</body>

</html>